# Оптимизация

Отключаем чтение из кэша для запросов типа select
```SQL
отключаем чтение из кэша для запросов типа select, для честности тестов. Работает только в рамках сеанса. При разрыве соединения
-- dbeaver и ClickHouse необходимо выполнить команду еще раз.
SET enable_reads_from_query_cache = 0;
```

Запрос возвращающий информацию о потребляемых ресурсах выполненных скриптов всеми пользователями в базе.
```SQL
SELECT `user`,              -- пользователь выполнивший запрос
       query,               -- выполненный скрипт
       read_rows,           -- кол-во строк, считанных из всех объектов, учавствующих в запросе
       read_bytes,          -- байт, считанных из всех объектов, учавствующих в запросе
       result_rows,         -- количество строк в результирующем наборе или insert
       result_bytes,        -- использовано оперативной памяти для хранения результирующего набора
       memory_usage,        -- использовано оперативной памяти при выполнении запроса
       query_duration_ms    -- длительность выполнения запроса (миллисекунды)
  FROM system.query_log
```
## Колоночное хранение
